<!doctype html>
<html>

  <head>
    <title>Submarine Control Terminal</title>
    <link rel="stylesheet" href="/rsapp/fontawesome/css/all.css" />
    <link rel="stylesheet" href="/rsapp/css/animate.css" />
    <link rel="stylesheet" href="/rsapp/bulma/css/bulma.css" />
    <link rel="stylesheet" href="/index.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <script src="/rsapp/socket.js"></script>
    <script src="/rsapp/rx.js"></script>
    <script src="/rsapp/three.js"></script>
    <script src="/rsapp/STLLoader.js"></script>
    <script src="/rsapp/riot-compiler.min.js"></script>
  </head>

  <body>
    <section class="section">
      <div class="container">
        <div class="tile is-ancestor is-vertical">
          <!-- 
          
          Header Row
          
          -->
          <div class="tile">
            <div class="tile is-parent is-vertical is-7">
              <div class="tile is-child" style="flex-grow:0;">
                <h1 class="title">Submarine Control Terminal</h1>
                <h2 class="subtitle">Utah State Robosub Team</h3>
              </div>
              <div class="tile is-child box is-paddingless consolewrap" style="flex-grow: 1;" id="consolewrap">
                <i class="fas fa-lock console-scrolllock" onclick="scrolllock=!scrolllock;document.getElementById('consolewrap').classList.toggle('scrolllock')"></i>
                <i class="fas fa-unlock-alt console-scrolllock" onclick="scrolllock=!scrolllock;document.getElementById('consolewrap').classList.toggle('scrolllock')"></i>
                <i class="fas fa-expand-arrows-alt console-fullscreen" onclick="document.getElementById('consolewrap').classList.toggle('active')"></i>
<pre  class="is-margninless has-background-dark has-text-white console"  id="console">
<span class="has-text-warn">Waiting for console...</span>
</pre>
              </div>
            </div>
            <div class="tile is-parent">
              <div class="tile is-child is-hidden" id="submodel">
              </div>
              <canvas id="chartcanvas"></canvas>
              <rg-chart></rg-chart>
            </div>
          </div>
        </div>
        <controls></controls>
      </div>
    </section>
    <!--<img src="http://192.168.1.101:8082" class="shrinkToFit" width="500">-->
    <!--<img src="http://192.168.1.101:8083" class="shrinkToFit" width="500">-->
    <!--<img src="http://192.168.1.101:8084" class="shrinkToFit" width="500">-->
    <script src="/index.js"></script>
    <script src="/rsapp/joycontrols.js"></script>
    <script src="/rsapp/OrbitControls.js"></script>
    <script src="/rsapp/submodel.js"></script>
    <!-- Riot Tags -->
    <script src="/rsapp/tags/directioncontrol.tag" type="riot/tag"></script>
    <script src="/rsapp/tags/controls.tag" type="riot/tag"></script>
    <script src="/rsapp/chart.min.js"></script>
    <script src="/rsapp/imucharts.js"></script>
    <script>
    /* global riot, setThrottle, setSteering, setHeading, setDive, setDepth, setDiveTrim, setPitch  */
      riot.mount('controls', 
      {
        controls: [
          [
            {
              title: "Thruster",
              update: setThrottle,
            },
            {
              title: "Steering",
              update: setSteering,
              horizontal: true,
            },
            {
              title: "Heading",
              update: setHeading,
              horizontal: true,
            },
          ],
          [
            {
              title: "Dive",
              update: setDive,
            },
            // {
            //   title: "Depth",
            //   slider: true,
            //   update: setDepth,
            // },
            {
              title: "Dive Trim",
              update: setDiveTrim,
              horizontal: true,
            },
            // {
            //   title: "Pitch",
            //   update: setPitch,
            //   horizontal: true,
            // },
          ],
        ]
      })
      
    </script>
  </body>

</html>
